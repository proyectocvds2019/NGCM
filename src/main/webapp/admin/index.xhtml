<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
<h:head>
	<link rel="stylesheet" type="text/css" href="../css/plugins/bootstrap.min.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="../css/plugins/bootstrap-theme.min.css" media="screen"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/>
    
    <link rel="stylesheet" type="text/css" href="../css/admin.css" media="screen"/>
    
    
    <!-- JS plugins -->
    <script src="../js/plugins/bootstrap.min.js"></script>

	
</h:head>
<h:body>
	<div class="container">
		<div class="col-xs-12">
			<h:outputLabel class="titulo col-xs-9">Bienvenido: <h:outputText value="#{sessionScope.correo}"/></h:outputLabel>
			<img class="img img-responsive col-xs-3" src="https://www.escuelaing.edu.co/uploads/descargables/1110_logotipo_institucional_vm300px.png"/>
		</div>
		<div class="col-xs-12">
			<nav class="navbar navbar-inverse">
				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-target="#myNavbar">
							<span class="icon-bar"></span>
					        <span class="icon-bar"></span>
					        <span class="icon-bar"></span> 
						</button>
					</div>
					<div class="collapse navbar-collapse" id="myNavbar">
						<ul class="nav navbar-nav">
							<li id="botonRegistrarElemento" data-toggle="collapse" data-target="#registrarElemento" class="active botonMenu"><a href="#">Registrar Elemento</a></li>

							<li id="botonRegistrarEquipo" data-toggle="collapse" data-target="#registrarEquipo" class="botonMenu"><a href="#">Registrar Equipo</a></li>



						</ul>
						<ul class="nav navbar-nav navbar-right">
					        <li> <h:outputLink style="display: inline-block;" value="/logout"><span class=""></span>Salir <i style="color: gray; display: inline-block;" class="fas fa-sign-out-alt"></i></h:outputLink></li>
					      </ul>


					</div>
				</div>
			</nav>
		</div>
	</div>
	<div class="container collapse in" id="registrarElemento">
		<div class="row col-xs-12">
			<h:form>
			    <p:messages>
			        <p:autoUpdate />
			    </p:messages>
			 
			    <h:panelGrid class="col-xs-12" columns="2" cellpadding="5">
			        <p:outputLabel for="tipoElemento" value="Tipo de elemento:" />

					<h:selectOneMenu id="tipoElemento" value="#{adminBean.tipoSeleccionado}" style="width:196px">
	                    <f:selectItems value="#{adminBean.tipoElementos}"/>
	                </h:selectOneMenu>
			       	
	
			       <p:outputLabel for="Equipo" value="Equipo:" />
			       <h:selectOneMenu id="Equipo" value="#{adminBean.equipo}" style="width:196px">
			       		<f:selectItem itemLabel="NULL" itemValue="-1"/>
	                    <f:selectItems value="#{adminBean.getEquipos()}"/>
	                </h:selectOneMenu>

			 
			    </h:panelGrid>
			 
			    <p:commandButton action="#{adminBean.registrarElemento()}" icon="fa fa-check" class="btn btn-default btn-success" value="Registrar" />


			</h:form>
			<hr/>
		</div>
		<div class="row col-xs-12">
			<div class="col-md-12 col-xs-12">
				<h:form id="formElementos">
					<p:fieldset id="tablaElementos" legend="Tabla de elementos">
				        <p:dataTable id="elementos" var="elemento" value="#{adminBean.consultarElementos()}">
				 
				            <p:column headerText="Id">
				                <h:outputText value="#{elemento.id}" />
				            </p:column>
				 
				            <p:column headerText="Tipo">
				                <h:outputText value="#{elemento.tipo}" />
				            </p:column>
							<p:column headerText="Equipo">
								<h:outputText value="#{elemento.equipoAsignado.id}"/>
							</p:column>
				        </p:dataTable>
				    </p:fieldset>
				</h:form>
				<hr/>
			</div>
		</div>
		<div class="row col-xs-12">
			<div class="col-md-12 col-xs-12">
				<h:form id="formElementosDisponibles">
					<p:fieldset id="tablaElementosDisponibles" legend="Tabla de elementos disponibles">
				        <p:dataTable id="elementos" var="elemento" value="#{adminBean.consultarElementosDisponibles()}">
				 
				            <p:column headerText="Id">
				                <h:outputText value="#{elemento.id}" />
				            </p:column>
				 
				            <p:column headerText="Tipo">
				                <h:outputText value="#{elemento.tipo}" />
				            </p:column>
							<p:column headerText="Enlazar">
								<center>
									<button data-toggle="modal" data-target="#botonEnlazarEquipo#{elemento.id}" type="button" class="btn btn-default btn-responsive btn-primary"><i class="fas fa-star"></i>Enlazar equipo</button>
								</center>
								<div class="modal fade" id="botonEnlazarEquipo#{elemento.id}" role="dialog">
									<div class="modal-dialog">

										<!-- Modal content-->
										<div class="modal-content">
											<div class="modal-header">

												<h4 class="modal-title">Enlazar equipo al elemento</h4>
											</div>
											<div class="modal-body">
												<h:form class="container-fluid" id="formularioEnlazarElemento#{elemento.id}">
													<p:messages>
														<p:autoUpdate />
													</p:messages>
													<div class="row" style="padding:25px;">
														<p:outputLabel class="col-xs-12 col-md-6" value="Elemento"/>
														<input type="text" class="col-xs-12 col-md-6" value="#{elemento.id}" disabled="disabled"/>
														<hr/>
														<p:outputLabel class="col-xs-12 col-md-4" value="Seleccionar Equipo"/>
														<h:selectOneMenu style="" dynamic="true" class="col-xs-12 col-md-4" id="equipoAsociar#{elemento.id}" value="#{adminBean.equipo}">
															<f:selectItems value="#{adminBean.getEquiposDisponibles(elemento)}"/>
														</h:selectOneMenu>
														<p:commandButton  action="#{adminBean.enlazarElemento(elemento)}" class="btn btn-default btn-success btn-responsive col-xs-12 col-md-3" value="Enlazar" />
													</div>
												</h:form>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
											</div>
										</div>

									</div>
								</div>
							</p:column>
				        </p:dataTable>
				    </p:fieldset>
				</h:form>
			</div>
		</div>
	</div>

	<div class="container col-xs-12 collapse" id="registrarEquipo">
		<div class="container">
			
			<h:form>
				<p:messages>
			        <p:autoUpdate />
			    </p:messages>

			    <h:panelGrid class="col-xs-12" columns="2" cellpadding="5">
			    	<p:outputLabel for="laboratorio" value="Laboratorio:" />
			    	<h:selectOneMenu id="laboratorio" value="#{adminBean.laboratorioSeleccionado}" style="width:196px">
			    	<f:selectItem itemLabel="NULL" itemValue="null"/>
	                    <f:selectItems value="#{adminBean.laboratoriosDisponibles()}"/>
	                </h:selectOneMenu>


	                <p:outputLabel for="monitor" value="Monitor:" />
			    	<h:selectOneMenu id="monitor" value="#{adminBean.monitorSeleccionado}" style="width:196px">
	                    <f:selectItems value="#{adminBean.monitoresDisponibles()}"/>
	                </h:selectOneMenu>


	                <p:outputLabel for="mouse" value="Mouse:" />
			    	<h:selectOneMenu id="mouse" value="#{adminBean.mouseSeleccionado}" style="width:196px">
	                    <f:selectItems value="#{adminBean.mousesDisponibles()}"/>
	                </h:selectOneMenu>


	                <p:outputLabel for="torre" value="Torre:" />
			    	<h:selectOneMenu id="torre" value="#{adminBean.tecladoSeleccionado}" style="width:196px">
	                    <f:selectItems value="#{adminBean.torresDisponibles()}"/>
	                </h:selectOneMenu>


	                <p:outputLabel for="teclado" value="Teclado:" />
			    	<h:selectOneMenu id="teclado" value="#{adminBean.tecladoSeleccionado}" style="width:196px">
	                    <f:selectItems value="#{adminBean.tecladosDisponibles()}"/>
	                </h:selectOneMenu>
				</h:panelGrid>

				<p:commandButton action="#{adminBean.registrarEquipo()}" icon="fa fa-check" class="btn btn-default btn-success" value="Registrar" />
			</h:form>


		</div>
	</div>


</h:body>
<footer>

</footer>


<!--JS personalizados -->
<script src="../js/admin.js"></script>
</html>